<script>
  import { createEventDispatcher } from 'svelte';
  import TiInfoLargeOutline from 'svelte-icons/ti/TiInfoLargeOutline.svelte';

  import Card from './components/Card.svelte';
  import Link from './components/Link.svelte';
  import RoundButton from './components/RoundButton.svelte';

  export let isOpen = false;

  const dispatch = createEventDispatcher();

  function openInfoCard() {
    dispatch('open');
  }

  function closeInfoCard() {
    dispatch('close');
  }
</script>

{#if isOpen}
  <section class="info">
    <Card closeable on:close={closeInfoCard}>
      <p>–ü—Ä–∏–≤–µ—Ç. –Ø ‚Äî –ò–≥–æ—Ä—å, –∏ —è –æ—á–µ–Ω—å –ª—é–±–ª—é –µ–¥—É.</p>
      <p>
        –í—Å–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è, –≥–¥–µ —Ö–æ—Ä–æ—à–æ ‚Äî –Ω–∞ —ç—Ç–æ–π –∫–∞—Ä—Ç–µ. –£ –∑–∞–≤–µ–¥–µ–Ω–∏–π –Ω–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞, –Ω–æ
        –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö –ø–æ–º–µ—á–µ–Ω—ã —ç–º–æ–¥–∑–∏:
      </p>

      <ul>
        <li>üòç ‚Äî —ç–º–µ–π–∑–∏–Ω–≥ –º–µ—Å—Ç–æ</li>
        <li>üí∏ ‚Äî –¥–æ—Ä–æ–≥–æ–≤–∞—Ç–æ, –Ω–æ –±–µ–∑ –∂–µ—Å—Ç–∏</li>
      </ul>

      <p>
        –ï—â—ë, —ç—Ç–∏–º —Å–µ—Ä–≤–∏—Å–æ–º –º–æ–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑
        <Link newTab href="https://t.me/trip_trip_robot">—Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞</Link>.
      </p>

      <p>
        <Link newTab href="https://t.me/igorkamyshev">–ü–∏—à–∏ —Ñ–∏–¥–±–µ–∫–∏</Link>,
        —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–π –¥—Ä—É–∑—å—è–º, –µ—à—å –≤–∫—É—Å–Ω–æ.
      </p>
    </Card>
  </section>
{/if}

<section class="controls">
  <RoundButton on:click={openInfoCard}><TiInfoLargeOutline /></RoundButton>
</section>

<style>
  .controls {
    position: absolute;
    bottom: var(--space);
    left: var(--space);
    z-index: 2;
  }

  .info {
    position: absolute;
    bottom: var(--space);
    left: var(--space);
    z-index: 3;
    width: 500px;
  }

  @media (max-width: 768px) {
    .info {
      width: calc(100vw - (2 * var(--space)));
    }
  }

  p {
    margin-block-end: 0.5em;
  }

  ul {
    margin-block-start: 0.5em;
    padding-inline-start: 12px;
  }

  li {
    list-style-type: none;
  }
</style>
